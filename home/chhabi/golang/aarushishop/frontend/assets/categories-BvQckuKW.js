import{C as r,u as s}from"./index-DTfqHd0M.js";const c=r("categories",{state:()=>({categories:JSON.parse(localStorage.getItem("categories")||"[]")}),actions:{async fetchCategories(){const o=s();try{const e=await fetch("http://localhost:8000/api/categories/list",{method:"GET",headers:{"Content-Type":"application/json",Authorization:o.token},credentials:"include"});if(!e.ok)throw new Error("Network response was not ok");const t=await e.json();if(console.log("Fetched categories data:",t),Array.isArray(t.data))this.categories=t.data.map(a=>a.description),localStorage.setItem("categories",JSON.stringify(this.categories)),console.log("Mapped categories:",this.categories);else throw new Error("Data format is not as expected")}catch(e){console.error("Error fetching categories:",e)}}}});export{c as u};
